{% extends 'base.html'%}
{% load static %}
<body>
    <nav class="navbar">
        <div class="logo">
            <i class="fas fa-font-awesome"></i>
            <a href="#"> TJ's Handyman Service </a>
        </div>
        
        
    
{% block content %}
    <div class='wrapper_outer'>
            <div class='wrapper'>
                <div class='hero-section'>
                    <img src='static/images/Hero_section.jpg'>
                    <h1>Hello, I am Tyler <br><span>Get it done right the first time!<br><b>Located at Bay St. Louis, MS, United States, Mississippi<p>Office: 228-363-3068</p><p>Email:tjhandymanservicellc21@gmail.com</p></span>  <h1>
                </div>
            </div>
        

        <!--
            this can be the Section can be the body
        -->
        <h1 class="services">Services</h1>
        <div class='box'>
            <div class="container">
                <img src="static/images/handymanPicOne.jpg">
                <h2>Crafting Your Space: Carpentry, Painting, and Custom Upgrades</h2>
                <p>Explore the artistry of carpentry, the transformative power of painting, and the personalized touch of custom upgrades for your interior and exterior spaces.</p>
            </div>
            <div class="container2">
                <img src="static/images/handymanPicTwo.jpg">
                <h2>From Welding to Woodwork: Expert Services for Your Property</h2>
                <p>Whether it's welding sturdy structures or crafting intricate woodwork, our skilled team offers a range of services to enhance your property's functionality and aesthetics.</p>
            </div>
            <div class="container">
                <img src="static/images/handymanPicThree.jpg"></a>
                <h2>Revamp Your Surroundings: Exterior Upgrades and Landscaping Solutions</h2>
                <p>Elevate your outdoor space with fence building, pergola installation, landscaping, and exterior upgrades tailored to suit your style and needs.</p>
            </div>
            <div class="container2">
                <img src="static/images/handymanPicFour.jpg">
                <h2>Beyond the Basics: Specialized Services for Home and Property</h2>
                <p>From blacksmithing and wild hog extermination to furniture assembly and odd jobs, trust us for a wide array of specialized services to meet your unique requirements.</p>
            </div>
        </div>
        <!--
            This Section can be the carousel of pictures
        -->
        <div class='before_after'>
            <h3>Before & After Pictures</h3>
        </div>
        <div class='slideshow'>
            
            <div class="gallery-container">
                <div class="gallery-track">
                    <img src="static/images/fence_before.jpg" />
                    <img src="static/images/fence_after.jpg" />
                    <img src="static/images/flooring_before.jpg" />
                    <img src="static/images/flooring_after.jpg" />
                    <img src="static/images/ManCave_before.jpg" />
                    <img src="static/images/ManCave_after.jpg" />
                </div>

                <!--
                    These are the actual buttons for the uh arrows
                -->

                <button class="prev" onclick="prevSlide()">&#10094;</button>
                <button class="next" onclick="nextSlide()">&#10095;</button>
            </div>
            <script>
                let slideIndex = 0;

                function showSlide() {
                    const slides = document.querySelectorAll('.gallery-track img');
                    slides.forEach(slide => slide.style.display = 'none');
                    slides[slideIndex].style.display = 'block';
                }

                function nextSlide() {
                    const slides = document.querySelectorAll('.gallery-track img');
                    if (slideIndex < slides.length - 1) {
                        slideIndex++;
                    } else {
                        slideIndex = 0;
                    }
                    showSlide();
                }

                function prevSlide() {
                    const slides = document.querySelectorAll('.gallery-track img');
                    if (slideIndex > 0) {
                        slideIndex--;
                    } else {
                        slideIndex = slides.length - 1;
                    }
                    showSlide();
                }

                showSlide();
                function goBack() {
                    window.history.back();
                }
            </script>
        </div> 

        <section id="reviews">
            <div>
                <h1 style="color: black;">Please Leave A Review</h1>
            </div>

            <div>
                {% if user.is_authenticated %}
                    <form id="reviewForm" method="post" action="{% url 'submit_review' %}">
                        {% csrf_token %}
                        {{ form.as_p }}
                        <p style="color: black;">Rating:</p>
                        <div id="starRating">
                            <button type="button" onclick="handleRatingClick(1)" class="star-button">★</button>
                            <button type="button" onclick="handleRatingClick(2)" class="star-button">★</button>
                            <button type="button" onclick="handleRatingClick(3)" class="star-button">★</button>
                            <button type="button" onclick="handleRatingClick(4)" class="star-button">★</button>
                            <button type="button" onclick="handleRatingClick(5)" class="star-button">★</button>
                        </div>
                        <label for="id_comment" style="color: black;">Review:</label><br>
                        <textarea id="id_comment" name="comment" rows="4" cols="50" style="color: black;"></textarea><br>
                        <input type="hidden" id="id_rating" name="rating">
                        <button type="submit" onclick="submitReview()">Submit Review</button>
                    </form>
                {% else %}
                    <p style="color: black;">Please <a href="{% url 'signIn' %}" style="color: blue;">log in</a> to leave a review.</p>
                {% endif %}
            </div>
        </section>

        <!--
            This can be the Footer
        -->

        <section>
            <div>
                <footer>
                    <h3 style="color:white;">
                        Contact Me!
                    </h3>
                    <pre style="color:white;">
                        <a href="tel:228-363-3068">228-363-3068</a><p>OR at <a href="">505 Oxford Blv</a></p>
                    </pre>
                </footer>
            </div>
        </section>
        <script>
                function handleRatingClick(rating) {
                    document.getElementById("id_rating").value = rating;
            
                    document.querySelectorAll('.star-button').forEach(function(button) {
                        button.classList.remove('clicked');
                        button.style.backgroundColor = ''; 
                    });
            
                    var clickedButton = document.querySelector('#starRating button:nth-child(' + rating + ')');
                    const allStars = document.querySelectorAll('.star-button');
                    clickedButton.classList.add('clicked');
                    clickedButton.style.backgroundColor = 'yellow'; 
                    const currentValue = Array.from(allStars).indexOf(clickedButton) + 1;
                    for (let i = currentValue; i > 0; i--) {
                        allStars[i - 1].style.backgroundColor = 'yellow';
                    }
                }
            
        </script>

</div>
{% endblock content %}


</body>


</html>